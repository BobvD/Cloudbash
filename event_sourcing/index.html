<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Cloudbash</title>
    <meta name="description" content="Event Sourced Serverless Architecture">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/Cloudbash/assets/css/0.styles.c30f9e75.css" as="style"><link rel="preload" href="/Cloudbash/assets/js/app.4952d590.js" as="script"><link rel="preload" href="/Cloudbash/assets/js/2.098b6e76.js" as="script"><link rel="preload" href="/Cloudbash/assets/js/4.987cadf7.js" as="script"><link rel="prefetch" href="/Cloudbash/assets/js/10.b9eb9879.js"><link rel="prefetch" href="/Cloudbash/assets/js/11.f26eb469.js"><link rel="prefetch" href="/Cloudbash/assets/js/12.2ff0667d.js"><link rel="prefetch" href="/Cloudbash/assets/js/13.dcabad43.js"><link rel="prefetch" href="/Cloudbash/assets/js/14.53852c51.js"><link rel="prefetch" href="/Cloudbash/assets/js/15.28695419.js"><link rel="prefetch" href="/Cloudbash/assets/js/16.9efdfa5a.js"><link rel="prefetch" href="/Cloudbash/assets/js/17.c4e76133.js"><link rel="prefetch" href="/Cloudbash/assets/js/18.41fd52b4.js"><link rel="prefetch" href="/Cloudbash/assets/js/3.825cdb3b.js"><link rel="prefetch" href="/Cloudbash/assets/js/5.cceb8b62.js"><link rel="prefetch" href="/Cloudbash/assets/js/6.7ca6feb9.js"><link rel="prefetch" href="/Cloudbash/assets/js/7.8f5fc406.js"><link rel="prefetch" href="/Cloudbash/assets/js/8.c3be564a.js"><link rel="prefetch" href="/Cloudbash/assets/js/9.a6c5d572.js">
    <link rel="stylesheet" href="/Cloudbash/assets/css/0.styles.c30f9e75.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Cloudbash/" class="home-link router-link-active"><img src="https://cloudbash-frontend.s3.amazonaws.com/cloudbash_rgb.svg" alt="Cloudbash" class="logo"> <span class="site-name can-hide">Cloudbash</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://d2bgpsr44efzwn.cloudfront.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/BobvD/Cloudbash" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Live Example
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/BobvD/Cloudbash" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://d2bgpsr44efzwn.cloudfront.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/BobvD/Cloudbash" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Live Example
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/BobvD/Cloudbash" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/Cloudbash/introduction/" class="sidebar-heading clickable"><span>Introduction</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/Cloudbash/introduction/DDD.html" class="sidebar-link">Getting started</a></li><li><a href="/Cloudbash/introduction/ES.html" class="sidebar-link">Technical stack</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Event Sourcing &amp; CQRS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Cloudbash/event_sourcing/" class="active sidebar-link">Introductie</a></li><li><a href="/Cloudbash/introduction/ES.html" class="sidebar-link">Implementatie</a></li></ul></section></li><li><a href="/Cloudbash/domain_driven_design/" class="sidebar-link">Domain Driven Design</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Cloudbash/domain_driven_design/#introduction" class="sidebar-link">Introduction</a></li><li class="sidebar-sub-header"><a href="/Cloudbash/domain_driven_design/#cheat-sheet" class="sidebar-link">Cheat sheet</a></li></ul></li><li><a href="/Cloudbash/business_scenario/" class="sidebar-link">Business Scenario and Analysis</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Cloudbash/business_scenario/#in-a-nutshell" class="sidebar-link">In a Nutshell...</a></li><li class="sidebar-sub-header"><a href="/Cloudbash/business_scenario/#story-mapping" class="sidebar-link">Story Mapping</a></li><li class="sidebar-sub-header"><a href="/Cloudbash/business_scenario/#user-stories" class="sidebar-link">User Stories</a></li><li class="sidebar-sub-header"><a href="/Cloudbash/business_scenario/#event-storming-wip" class="sidebar-link">Event Storming (WIP)</a></li><li class="sidebar-sub-header"><a href="/Cloudbash/business_scenario/#bounded-contexts" class="sidebar-link">Bounded Contexts</a></li><li class="sidebar-sub-header"><a href="/Cloudbash/business_scenario/#class-diagrams" class="sidebar-link">Class Diagrams</a></li></ul></li><li><a href="/Cloudbash/serverless_architecture/" class="sidebar-link">Serverless Architecture</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Cloudbash/serverless_architecture/#_1-dynamodb-kinesis-rds" class="sidebar-link">#1: DynamoDB, Kinesis, RDS</a></li><li class="sidebar-sub-header"><a href="/Cloudbash/serverless_architecture/#_2-dynamodb-sqs-elasticache" class="sidebar-link">#2: DynamoDB, SQS, ElastiCache</a></li><li class="sidebar-sub-header"><a href="/Cloudbash/serverless_architecture/#_3-dynamodb-all-the-way" class="sidebar-link">#3: DynamoDB all the way</a></li></ul></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Serverless Web development</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Cloudbash/aws_serverless/static_website_hosting.html" class="sidebar-link">Static Website Hosting</a></li><li><a href="/Cloudbash/aws_serverless/s3_file_uploads.html" class="sidebar-link">S3 File Uploads</a></li><li><a href="/Cloudbash/aws_serverless/cognito_auth.html" class="sidebar-link">Access Control with Cognito</a></li></ul></section></li><li><a href="/Cloudbash/dev_ops/" class="sidebar-link">Dev Ops</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Cloudbash/dev_ops/#cloudbash-cli" class="sidebar-link">Cloudbash CLI</a></li><li class="sidebar-sub-header"><a href="/Cloudbash/dev_ops/#serverless-framework" class="sidebar-link">Serverless Framework</a></li><li class="sidebar-sub-header"><a href="/Cloudbash/dev_ops/#aws-codepipeline" class="sidebar-link">AWS CodePipeLine</a></li><li class="sidebar-sub-header"><a href="/Cloudbash/dev_ops/#github-actions" class="sidebar-link">Github Actions</a></li><li class="sidebar-sub-header"><a href="/Cloudbash/dev_ops/#load-testing" class="sidebar-link">Load Testing</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><div class="language- extra-class"><pre class="language-text"><code>This article is written in dutch, a translated version will be posted soon™.
</code></pre></div><h1 id="event-sourcing-cqrs"><a href="#event-sourcing-cqrs" class="header-anchor">#</a> Event Sourcing &amp; CQRS</h1> <p><strong>Inhoud</strong></p><div class="table-of-contents"><ul><li><a href="#introductie">Introductie</a></li><li><a href="#waarom">Waarom?</a></li><li><a href="#cqrs">CQRS</a></li><li><a href="#bronnen">Bronnen</a></li></ul></div><p></p> <h2 id="introductie"><a href="#introductie" class="header-anchor">#</a> Introductie</h2> <p>Event-driven architecturen in het algemeen en event sourcing zijn de laatste jaren in populariteit toegenomen. Dit komt grotendeels door de opkomst van microservices en de behoefte voor het bouwen van schaalbare systemen die modulair en veerkrachtig zijn.</p> <p>Event sourcing is een procedure die beschrijft hoe data op een specifieke manier opgeslagen kan worden. Wanneer event sourcing wordt gebruikt wordt niet de huidige staat van de data opgeslagen, maar alle gebeurtenissen die plaats hebben gevonden om tot deze staat te komen.
</p><figure><img src="data:image/png;base64,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"> <figcaption>Acties uitgevoerd in het systeem worden opgevangen in de vorm van events.</figcaption></figure><p></p> <p>We vangen deze gebeurtenissen op in de vorm van <em>events</em>, dit zijn simpele, <a href="#termonilogie">immutable﹖</a> objecten die een uitgevoerde actie beschrijven.</p> <p>Events worden opgeslagen in het <em>Event Log</em>, dit is een <a href="#termonilogie">append-only﹖</a> lijst met alle events die plaats hebben gevonden in het systeem. Het Event Log wordt beschouwd als de primaire databron van het systeem. De huidige staat van de applicatie is hier slechts een afgeleide van, we kunnen deze eenvoudig herbouwen door events uit het log, in chronologische volgorde, opnieuw af te spelen.</p> <figure><img src="/Cloudbash/assets/img/event_log.2e2be774.png"> <figcaption>Events worden chronologisch toegepast om tot de huidige staat van het object te komen.</figcaption></figure> <h4 id="business-constraints"><a href="#business-constraints" class="header-anchor">#</a> Business Constraints</h4> <p>Bij het uitvoeren van een operatie, is het vaak nodig om deze te valideren. Wanneer we een nieuw Concert willen inplannen, zal bijvoorbeeld eerst moeten worden gecontroleerd of de locatie wel beschikbaar is op de gewenste datum. Om achter de beschikbaarheid van de concert locatie te komen zullen we een subgroep events moeten afspelen. Het afspelen van deze events wordt ook wel <em>projecting</em> genoemd. Projecting is een in-memory proces waarbij een groep events wordt omgezet in een gestructureerde representatie. Het resultaat hiervan noemen we een <em>projection</em>, in dit geval heeft de projection de vorm van een concertprogramma.</p> <p>Hoewel dit proces op eerste gezicht langzaam lijkt, valt dit in de praktijk reuze mee. Het groepje events dat wordt afgespeeld is zo klein mogelijk, alleen de events relevant voor de projection worden opgevraagd. Meestal gebeurt dit in één database call.</p> <h4 id="snapshots"><a href="#snapshots" class="header-anchor">#</a> Snapshots</h4> <p>Om het groepje events dat voor iedere projection moet worden afgespeeld nog kleiner te maken, worden vaak <em>snapshots</em> toegepast. Een snapshot geeft een overzicht van de staat op een bepaald moment in tijd. Wanneer we een groep events afspelen kunnen we dit doen vanaf een snapshot, hierdoor voorkomen we dat iedere keer alle events opnieuw afgespeeld moeten worden.</p> <h2 id="waarom"><a href="#waarom" class="header-anchor">#</a> Waarom?</h2> <h4 id="limities-van-crud-systemen"><a href="#limities-van-crud-systemen" class="header-anchor">#</a> Limities van CRUD-systemen</h4> <ul><li>Systemen gebasseerd op <a href="#termonilogie">CRUD-functies﹖</a>  voeren operaties rechtsreeks op de databron uit, dit kan de performance van de applicatie verlagen.</li> <li>Limiteert de schaalbaarheid. Lees- en schrijfacties kunnen niet eenvoudig en onafhankelijk van elkaar worden geschaald.</li> <li>Tenzij er een aanvullende <a href="#termonilogie">auditing﹖</a> functionaliteit wordt geïmplementeerd, die een aantekening van elke uitgevoerde operatie in een log bijhoudt. Gaat de historie van de applicatie verloren.</li> <li>Hoe meer gebruikers, hoe groter de kans op data (concurrency) conflicten.</li></ul> <h4 id="voordelen-van-event-sourcing"><a href="#voordelen-van-event-sourcing" class="header-anchor">#</a> Voordelen van Event Sourcing</h4> <ul><li>Auditing (Audit log): Elke aanpassing aan de data is vastgelegd. Betrouwbaar omdat het eventlog de primaire databron van het systeem is.</li> <li>Historische staat: De opgeslagen events beschrijven niet alleen de huidige staat van de applicatie, maar ook hoe de applicatie tot dit punt is gekomen. Dit maakt het mogelijk de applicatie te herstellen naar een moment in het verleden.</li> <li>Debugging: Speel de events uit de productie af naar een development omgeving. Zo vaak als nodig. We zijn niet meer hoofdzakelijk afhankelijk van logging.</li> <li>Microservices: helpt bij het beheren van data op een schaalbare manier in gedistribueerde systemen.</li> <li>Verschillende data schema's, CQRS: het scheiden van commands en queries maakt het mogelijk om verschillende query-systemen te hebben (met verschillende schema's).</li> <li>Maakt het mogelijk de staat van de applicatie <em>in memory</em> te bewaren, wanneer het systeem opnieuw herstart wordt kan deze vanuit het eventlog herbouwd worden. Dit kan de performance van de applicatie verbeteren.</li> <li>De data biedt mogelijkheden voor toekomstige nieuwe applicaties, functionaliteiten en rapportages.</li></ul> <h2 id="cqrs"><a href="#cqrs" class="header-anchor">#</a> CQRS</h2> <figure><img src="/Cloudbash/assets/img/cqrs.4f483d59.png"> <figcaption>CQRS: Het scheiden van commands en queries.</figcaption></figure>
[beschrijving-cqrs]
## Problemen
[problemen]
## Termonilogie
<table><thead><tr><th>Term</th> <th>Beschrijving</th></tr></thead> <tbody><tr><td><strong>Immutable object</strong></td> <td>Aan het einde toegevoegd. Er kan geen data gewijzigd of verwijderd worden.</td></tr> <tr><td><strong>Append-only</strong></td> <td>Onveranderbaar. Het object kan niet gewijzigd worden.</td></tr> <tr><td><strong>CRUD</strong></td> <td>Create, Read, Update, Delete. De 4 basis functionaliteiten van een database.</td></tr> <tr><td><strong>Auditing</strong></td> <td>Het bijhouden van de activiteiten in een systeem.</td></tr></tbody></table> <h2 id="bronnen"><a href="#bronnen" class="header-anchor">#</a> Bronnen</h2> <p>[bronnen]</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Cloudbash/introduction/ES.html" class="prev">
        Technical stack
      </a></span> <span class="next"><a href="/Cloudbash/introduction/ES.html">
        Implementatie
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/Cloudbash/assets/js/app.4952d590.js" defer></script><script src="/Cloudbash/assets/js/2.098b6e76.js" defer></script><script src="/Cloudbash/assets/js/4.987cadf7.js" defer></script>
  </body>
</html>
